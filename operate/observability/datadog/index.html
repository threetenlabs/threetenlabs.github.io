<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-support/observability/datadog/index-datadog">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Redis Enterprise Observability with Datadog | The Home of ThreeTen Labs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://threetenlabs.com/img/redis-hero-image.jpg"><meta data-rh="true" name="twitter:image" content="https://threetenlabs.com/img/redis-hero-image.jpg"><meta data-rh="true" property="og:url" content="https://threetenlabs.com/operate/observability/datadog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Redis Enterprise Observability with Datadog | The Home of ThreeTen Labs"><meta data-rh="true" name="description" content="Datadog"><meta data-rh="true" property="og:description" content="Datadog"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://threetenlabs.com/operate/observability/datadog"><link data-rh="true" rel="alternate" href="https://threetenlabs.com/operate/observability/datadog" hreflang="en"><link data-rh="true" rel="alternate" href="https://threetenlabs.com/operate/observability/datadog" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e699af7e.css">
<link rel="preload" href="/assets/js/runtime~main.107a44d4.js" as="script">
<link rel="preload" href="/assets/js/main.1684004e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:rgb(210, 215, 254);color:rgb(22 31 49)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><div class="announcement-bar"><a href="https://google.com" target="_blank" rel="noopener"><span>Announcing the first release of Spider Solitaire</span> <span style="margin-left:1rem">Learn more</span> <span style="margin-left:0.25rem">→</span></a></div></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-1.png" alt="ThreeTen Labs logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="ThreeTen Labs logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div></div><a class="navbar__item navbar__link" href="/games/">Games</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo-1.png" alt="ThreeTen Labs logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="ThreeTen Labs logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/games">Games</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/company">Company</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/operate/observability/redisdatasource">Support</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/operate/observability/redisdatasource">Observability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operate/observability/redisdatasource">Redis Data Source for Grafana</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/operate/observability/datadog">Redis Enterprise Observability with Datadog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/provisioning/terraform">Provisioning</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/redis-at-scale">Running Redis at Scale</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Support</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Observability</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Redis Enterprise Observability with Datadog</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Redis Enterprise Observability with Datadog</h1></header><p><img loading="lazy" alt="Datadog" src="/assets/images/datadog-redis-72238fc1934a27dd98a2373a6a4f46ff.png" width="1024" height="536" class="img_ev3q"></p><p>Devops and SRE practitioners are already keenly aware of the importance of system reliability, as it’s one of the shared goals in every high performing organization. Defining clear reliability targets based on solid data is crucial for productive collaboration between developers and SREs. This need spans the entire infrastructure from application to backend database services.</p><p>Service Level Objectives (SLOs) provide a powerful interface for all teams to set clear performance and reliability goals based on Service Level Indicators (SLIs) or data points. A good model is to think of the SLIs as the data and the SLO as the information one uses to make critical decisions.</p><p>Further Read: <a href="https://cloud.google.com/blog/products/devops-sre/sre-fundamentals-slis-slas-and-slos" target="_blank" rel="noopener noreferrer">https://cloud.google.com/blog/products/devops-sre/sre-fundamentals-slis-slas-and-slos</a></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redis">Redis<a class="hash-link" href="#redis" title="Direct link to heading">​</a></h4><p>Redis is a popular multi-model NoSQL database server that provides in-memory data access speeds for search, messaging, streaming, caching, and graph—amongst other capabilities. Highly performant sites such as Twitter, Snapchat, Freshworks, GitHub, Docker, Pinterest, and Stack Overflow all look to Redis to move data in real time.</p><p>Redis SLOs can be broken down into three main categories:</p><table><thead><tr><th>Category</th><th>Definition</th><th>Example SLO</th><th>Example SLI</th></tr></thead><tbody><tr><td>Throughput</td><td>Number of operations being pushed through the service in a given time period</td><td>System should be capable of performing 200M operations per second</td><td>redisenterprise.total_req</td></tr><tr><td>Latency</td><td>Elapsed time it takes for an operation</td><td>Average write latency should not exceed 1 millisecond</td><td>redis_enterprise.avg_latency</td></tr><tr><td>Capacity</td><td>Memory/storage/network limits of the underlying data source</td><td>Database should have 20% memory overhead available to handle bursts</td><td>redisenterprise.used_memory_percent</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-datadog">Why Datadog?<a class="hash-link" href="#why-datadog" title="Direct link to heading">​</a></h3><p>Running your own performance data platform is time consuming and difficult. Datadog provides an excellent platform with an open source agent to collect metrics and allows them to be displayed easily and alerted upon when necessary.</p><p>Datadog allows you to:</p><ul><li>Collect metrics from various infrastructure components out of the box</li><li>Display that data in easy to read dashboards</li><li>Monitor performance metrics and alert accordingly</li><li>Correlate log entries with metrics to quickly drill down to root causes</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="key-performance-indicators">Key Performance Indicators<a class="hash-link" href="#key-performance-indicators" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-latency">1. Latency<a class="hash-link" href="#1-latency" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition">Definition<a class="hash-link" href="#definition" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterpriseavg_latency-unit-microseconds">redisenterprise.avg_latency (unit: microseconds)<a class="hash-link" href="#redisenterpriseavg_latency-unit-microseconds" title="Direct link to heading">​</a></h5><p>This is the average amount of time that a request takes to return from the time that it first hits the Redis Enterprise proxy until the response is returned. It does not include the full time from the remote client’s perspective.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics">Characteristics<a class="hash-link" href="#characteristics" title="Direct link to heading">​</a></h5><p>Since Redis is popular due to performance, generally you would expect most operations to return in single digit milliseconds. Tune any alerts to match your SLA. It’s generally recommended that you also measure Redis operation latency at the client side to make it easier to determine if a server slow down or an increase in network latency is the culprit in any performance issues.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-causes">Possible Causes<a class="hash-link" href="#possible-causes" title="Direct link to heading">​</a></h5><table><thead><tr><th>Cause</th><th>Factors</th></tr></thead><tbody><tr><td>Spike in requests</td><td>Check both the Network Traffic and Operations Per Second metrics to determine if there is a corresponding increase</td></tr><tr><td>Slow-running queries</td><td>Check the slow log in the Redis Enterprise UI for the database</td></tr><tr><td>Insufficient compute resources</td><td>Check to see if the CPU Usage, Memory Usage Percentage, or Evictions are increasing</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remediation">Remediation<a class="hash-link" href="#remediation" title="Direct link to heading">​</a></h5><table><thead><tr><th>Action</th><th>Method</th></tr></thead><tbody><tr><td>Increase resources</td><td>The database can be scaled up online by going to the Web UI and enabling clustering on the database. In extreme cases, more nodes can be added to the cluster and resources rebalanced</td></tr><tr><td>Inefficient queries</td><td>Redis allows you to view a slow log with a tunable threshold. It can be viewed either in the Redis Enterprise UI or by running: redis-cli -h HOST -p PORT -a PASSWORD SLOWLOG GET 100</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-memory-usage-percentage">2. Memory Usage Percentage<a class="hash-link" href="#2-memory-usage-percentage" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-1">Definition<a class="hash-link" href="#definition-1" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterprisememory_usage_percent-unit-percentage">redisenterprise.memory_usage_percent (unit: percentage)<a class="hash-link" href="#redisenterprisememory_usage_percent-unit-percentage" title="Direct link to heading">​</a></h5><p>This is the percentage of used memory over the memory limit set for the database.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics-1">Characteristics<a class="hash-link" href="#characteristics-1" title="Direct link to heading">​</a></h5><p>In Redis Enterprise, all databases have a maximum memory limit set to ensure isolation in a multi-tenant environment. This is also highly recommended when running open source Redis. Be aware that Redis does not immediately free memory upon key deletion. Depending on the size of the database, generally between 80-95% is a safe threshold.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-causes-1">Possible Causes<a class="hash-link" href="#possible-causes-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Cause</th><th>Factors</th></tr></thead><tbody><tr><td>Possible spike in activity</td><td>Check both the Network Traffic and Operations Per Second metrics to determine if there is a corresponding increase</td></tr><tr><td>Database sized incorrectly</td><td>View the Memory Usage raw bytes over time to see if a usage pattern has changed</td></tr><tr><td>Incorrect retention policies</td><td>Check to see if keys are being Evicted or Expired</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remediation-1">Remediation<a class="hash-link" href="#remediation-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Action</th><th>Method</th></tr></thead><tbody><tr><td>Increase resources</td><td>The database memory limit can be raised online with no downtime through either the Redis Enterprise UI or the API</td></tr><tr><td>Retention Policy</td><td>In a caching use case, setting a TTL for unused data to expire is often helpful. In addition, Eviction policies can be set, however, these may often not be able to keep up in extremely high throughput environments with very tight resource constraints</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="3-cache-hit-rate">3. Cache Hit Rate<a class="hash-link" href="#3-cache-hit-rate" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-2">Definition<a class="hash-link" href="#definition-2" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterprisecache_hit_rate-unit-percent">redisenterprise.cache_hit_rate (unit: percent)<a class="hash-link" href="#redisenterprisecache_hit_rate-unit-percent" title="Direct link to heading">​</a></h5><p>This is the percentage of time that Redis is accessing a key that already exists.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics-2">Characteristics<a class="hash-link" href="#characteristics-2" title="Direct link to heading">​</a></h5><p>This metric is useful only in the caching use case and should be ignored for all other use cases. There are tradeoffs between the freshness of the data in the cache and efficacy of the cache mitigating traffic to any backend data service. These tradeoffs should be considered carefully when determining the threshold for alerting.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-causes-2">Possible Causes<a class="hash-link" href="#possible-causes-2" title="Direct link to heading">​</a></h5><p>This is highly specific to the application caching with no general rules that are applicable in the majority of cases.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remediation-2">Remediation<a class="hash-link" href="#remediation-2" title="Direct link to heading">​</a></h5><p>Note that Redis commands return information on whether or not a key or field already exists. For example, the <a href="https://redis.io/commands/hset" target="_blank" rel="noopener noreferrer">HSET</a> command returns the number of fields in the hash that were added.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="4-evictions">4. Evictions<a class="hash-link" href="#4-evictions" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-3">Definition<a class="hash-link" href="#definition-3" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterpriseevicted_objects-unit-count">redisenterprise.evicted_objects (unit: count)<a class="hash-link" href="#redisenterpriseevicted_objects-unit-count" title="Direct link to heading">​</a></h5><p>This is the count of items that have been evicted from the database.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics-3">Characteristics<a class="hash-link" href="#characteristics-3" title="Direct link to heading">​</a></h5><p>Eviction occurs when the database is close to capacity. In this condition, the <a href="https://docs.redis.com/latest/rs/administering/database-operations/eviction-policy/" target="_blank" rel="noopener noreferrer">eviction policy</a> starts to take effect. While <a href="https://redis.io/commands/expire" target="_blank" rel="noopener noreferrer">Expiration</a> is fairly common in the caching use case, Eviction from the cache should generally be a matter of concern. At very high throughput and very restricted resource use cases, sometimes the eviction sweeps cannot keep up with memory pressure. Relying on Eviction as a memory management technique should be considered carefully.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-causes-3">Possible Causes<a class="hash-link" href="#possible-causes-3" title="Direct link to heading">​</a></h5><p><a href="#possible-causes-1">See Memory Usage Percentage Possible Causes</a></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remediation-3">Remediation<a class="hash-link" href="#remediation-3" title="Direct link to heading">​</a></h5><p><a href="#remediation-1">See Memory Usage Percentage Remediation</a></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="secondary-indicators">Secondary Indicators<a class="hash-link" href="#secondary-indicators" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="1-network-traffic">1. Network Traffic<a class="hash-link" href="#1-network-traffic" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-4">Definition<a class="hash-link" href="#definition-4" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterpriseingress_bytesredisenterpriseegress_bytes-unit-bytes">redisenterprise.ingress_bytes/redisenterprise.egress_bytes (unit: bytes)<a class="hash-link" href="#redisenterpriseingress_bytesredisenterpriseegress_bytes-unit-bytes" title="Direct link to heading">​</a></h5><p>Counters for the network traffic coming into the database and out from the database.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics-4">Characteristics<a class="hash-link" href="#characteristics-4" title="Direct link to heading">​</a></h5><p>While these two metrics will not help you pinpoint a root cause, network traffic is an excellent leading indicator of trouble. Changes in network traffic patterns indicate corresponding changes in database behavior and further investigation is usually warranted.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="2-connection-count">2. Connection Count<a class="hash-link" href="#2-connection-count" title="Direct link to heading">​</a></h3><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="definition-5">Definition<a class="hash-link" href="#definition-5" title="Direct link to heading">​</a></h5><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redisenterpriseconns-unit-count">redisenterprise.conns (unit: count)<a class="hash-link" href="#redisenterpriseconns-unit-count" title="Direct link to heading">​</a></h5><p>The number of current client connections to the database.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="characteristics-5">Characteristics<a class="hash-link" href="#characteristics-5" title="Direct link to heading">​</a></h5><p>This metric should be monitored with both a minimum and maximum number of connections. The minimum number of connections not being met is an excellent indicator of either networking or application configuration errors. The maximum number of connections being exceeded may indicate a need to tune the database.</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="possible-causes-4">Possible Causes<a class="hash-link" href="#possible-causes-4" title="Direct link to heading">​</a></h5><table><thead><tr><th>Cause</th><th>Factors</th></tr></thead><tbody><tr><td>Minimum clients not met</td><td>Incorrect client configuration, network firewall, or network issues</td></tr><tr><td>Maximum connections exceeded</td><td>Client library is not releasing connections or an increase in the number of clients</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="remediation-4">Remediation<a class="hash-link" href="#remediation-4" title="Direct link to heading">​</a></h5><table><thead><tr><th>Action</th><th>Method</th></tr></thead><tbody><tr><td>Clients Misconfigured</td><td>Confirm client configurations</td></tr><tr><td>Networking issue</td><td>Issue the PING command from a client node TELNET to the endpoint</td></tr><tr><td>Too many connections</td><td>Be sure that you are using pooling on your client library and that your pools are sized accordingly</td></tr><tr><td>Too many connections</td><td>Using rladmin, run: tune proxy PROXY_NUMBER threads VALUE threads VALUE</td></tr></tbody></table><p>You can access the complete list of metrics <a href="https://github.com/DataDog/integrations-extras/blob/master/redisenterprise/metadata.csv" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getting-started">Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h2><p>Follow the steps below to set up the Datadog agent to monitor your Redis Enterprise cluster, as well as database metrics:</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="quickstart-guide">Quickstart Guide:<a class="hash-link" href="#quickstart-guide" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites:<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h4><ul><li><a href="https://docs.redis.com/latest/rs/installing-upgrading/" target="_blank" rel="noopener noreferrer">Follow this link</a> to setup your Redis Enterprise cluster and database</li><li>Setup a Read-only user account by logging into your Redis Enterprise instance and visiting the “Access Control” section</li></ul><p><img loading="lazy" alt="alt_text" src="/assets/images/image1-3502a8e4ff44d81c3eb542d52d7fa7bc.png" width="1244" height="772" class="img_ev3q"></p><ul><li>Add a new user account with Cluster View Permissions.</li></ul><p><img loading="lazy" alt="alt_text" src="/assets/images/image2-370159a1aba409e22e29deb1967cdbc1.png" width="1244" height="582" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-set-up-a-datadog-agent">Step 1. Set Up a Datadog Agent<a class="hash-link" href="#step-1-set-up-a-datadog-agent" title="Direct link to heading">​</a></h3><p>Before we jump into the installation, let’s look at the various modes that you can run the Datadog agent in:</p><ul><li>External Monitor Mode</li><li>Localhost Mode</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="external-monitor-mode">External Monitor Mode<a class="hash-link" href="#external-monitor-mode" title="Direct link to heading">​</a></h4><p><img loading="lazy" alt="alt_text" src="/assets/images/image3-830146bed95ab4febee08dae923dc2cd.png" width="1234" height="716" class="img_ev3q"></p><p>In external monitor mode, a Datadog agent running outside of the cluster can monitor multiple Redis Enterprise clusters, as shown in the diagram above.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="localhost-mode">Localhost Mode<a class="hash-link" href="#localhost-mode" title="Direct link to heading">​</a></h4><p>Using localhost mode, the integration can be installed on every node of a Redis Enterprise cluster. This allows the user to correlate OS level metrics with Redis-specific metrics for faster root cause analysis. Only the Redis Enterprise cluster leader will submit metrics and events to Datadog. In the event of a migration of the cluster leader, the new cluster leader will begin to submit data to Datadog.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image4-0a02980b029d4bed60135e65bf2275f7.png" width="1276" height="1066" class="img_ev3q"></p><p>For this demo, we will be leveraging localhost mode as we just have two nodes to configure.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-launch-the-datadog-agent-on-the-master-node">Step 2. Launch the Datadog agent on the Master node<a class="hash-link" href="#step-2-launch-the-datadog-agent-on-the-master-node" title="Direct link to heading">​</a></h3><p>Pick up your preferred OS distribution and install the Datadog agent</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image5-9c19bf3e7977d28a7816018677f963ff.png" width="1264" height="1620" class="img_ev3q"></p><p>Run the following command to install the integration wheel with the Agent. Replace the integration version with 1.0.1.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> datadog-agent integration </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -t datadog-redisenterprise</span><span class="token operator" style="color:rgb(137, 221, 255)">==</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">INTEGRATION_VERSION</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-configuring-datadog-configuration-file">Step 3. Configuring Datadog configuration file<a class="hash-link" href="#step-3-configuring-datadog-configuration-file" title="Direct link to heading">​</a></h3><p>Copy the <a href="https://github.com/DataDog/integrations-extras/blob/master/redisenterprise/datadog_checks/redisenterprise/data/conf.yaml.example" target="_blank" rel="noopener noreferrer">sample configuration</a> and update the required sections to collect data from your Redis Enterprise cluster:</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="for-localhost-mode">For Localhost Mode<a class="hash-link" href="#for-localhost-mode" title="Direct link to heading">​</a></h4><p>The following minimal configuration should be added to the Enterprise Master node.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> sudo vim /etc/datadog-agent/conf.d/redisenterprise.d/conf.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#################################################################</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  Base configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> init_config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> instances:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - host: localhost</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    username: user@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password: secretPassword</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port: </span><span class="token number" style="color:rgb(247, 140, 108)">9443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Similarly, you need to add the edit the configuration file for the Enterprise Follower to add the following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vim</span><span class="token plain"> /etc/datadog-agent/conf.d/redisenterprise.d/conf.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#################################################################</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#  Base configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  init_config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  instances:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - host: localhost</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      username: user@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      password: secretPassword</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      port: </span><span class="token number" style="color:rgb(247, 140, 108)">9443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="for-external-monitor-mode">For External Monitor Mode<a class="hash-link" href="#for-external-monitor-mode" title="Direct link to heading">​</a></h4><p>The following configuration should be added to the Monitor node</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">#  Base configuration</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">init_config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">instances:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - host: cluster1.fqdn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    username: user@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password: secretPassword</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port: 9443</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - host: cluster2.fqdn</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    username: user@example.com</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    password: secretPassword</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    port: 9443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-restart-the-datadog-agent-service">Step 4. Restart the Datadog Agent service<a class="hash-link" href="#step-4-restart-the-datadog-agent-service" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> sudo service datadog-agent restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-viewing-the-datadog-dashboard-ui">Step 5. Viewing the Datadog Dashboard UI<a class="hash-link" href="#step-5-viewing-the-datadog-dashboard-ui" title="Direct link to heading">​</a></h3><p>Find the Redis Enterprise Integration under the Integration Menu:</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image6-18d31671a3065c117018d4e47421c240.png" width="1258" height="502" class="img_ev3q"></p><p>Displaying the host reporting data to Datadog:</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image7-1f11634da146326ff2020ce275ec3cbf.png" width="1254" height="668" class="img_ev3q"></p><p>Listing the Redis Enterprise dashboards:</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image8-6745b061b39203811c7c33242078f01f.png" width="1262" height="462" class="img_ev3q"></p><p>Host details under Datadog Infrastructure list:</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image10-dd0f1dd3ee6350a01f38356fda628e78.png" width="1284" height="1476" class="img_ev3q"></p><p>Datadog dashboard displaying host metrics of the 1st host (CPU, Memory Usage, Load Average etc):</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image11-6b80ce4b9427660a1b75a63bb58c1209.png" width="1268" height="568" class="img_ev3q"></p><p>Datadog dashboard displaying host metrics of the 2nd host:</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image12-e1688bffed20cea575c8998a7d236e83.png" width="1292" height="438" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-verifying-the-datadog-agent-status">Step 6. Verifying the Datadog Agent Status<a class="hash-link" href="#step-6-verifying-the-datadog-agent-status" title="Direct link to heading">​</a></h3><p>Running the <code>datadog-agent</code> command shows that the Redis Enterprise integration is working correctly.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> sudo datadog-agent status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> redisenterprise </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain">.1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -----------------------</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Instance ID: redisenterprise:ef4cd60aadac5744 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">OK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Configuration Source: file:/etc/datadog-agent/conf.d/redisenterprise.d/conf.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Total Runs: </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Metric Samples: Last Run: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">, Total: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Events: Last Run: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">, Total: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Service Checks: Last Run: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain">, Total: </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Average Execution Time </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> 46ms</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Last Execution Date </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-10-28 </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token plain">:27:10 UTC </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1635442030000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Last Successful Execution Date </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token plain">-10-28 </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token plain">:27:10 UTC </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1635442030000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redis-enterprise-cluster-top-view">Redis Enterprise Cluster Top View<a class="hash-link" href="#redis-enterprise-cluster-top-view" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="alt_text" src="/assets/images/image13-7962d3f8f76e42b6caaf9ab841906e8e.png" width="1250" height="962" class="img_ev3q"></p><p>Let’s run a memory benchmark tool called redis-benchmark to simulate an arbitrary number of clients connecting at the same time and performing actions on the server, measuring how long it takes for the requests to be completed.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> memtier_benchmark --server localhost -p </span><span class="token number" style="color:rgb(247, 140, 108)">19701</span><span class="token plain"> -a password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">RUN </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#1] Preparing benchmark client...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">RUN </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#1] Launching threads now...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="alt_text" src="/assets/images/image14-aff4ae25cdc6e7f5a580f78524e379d9.png" width="1280" height="880" class="img_ev3q"></p><p>This command instructs memtier_benchmark to connect to your Redis Enterprise database and generates a load doing the following:</p><ul><li>Write objects only, no reads.</li><li>Each object is 500 bytes.</li><li>Each object has random data in the value.</li><li>Each key has a random pattern, then a colon, followed by a random pattern.</li></ul><p>Run this command until it fills up your database to where you want it for testing. The easiest way to check is on the database metrics page.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> memtier_benchmark --server localhost -p 19701 -a Oracle9ias12# -R -n allkeys -d 500 --key-pattern=P:P --ratio=1:0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> setting requests to 50001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [RUN #1] Preparing benchmark client...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> [RUN #1] Launching threads now...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="alt_text" src="/assets/images/image15-f22887c33eb24634cd301ab9f933f0ae.png" width="1260" height="726" class="img_ev3q"></p><p>The Datadog Events Stream shows an instant view of your infrastructure and services events to help you troubleshoot issues happening now or in the past. The event stream displays the most recent events generated by your infrastructure and the associated monitors, as shown in the diagram below.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image15-f22887c33eb24634cd301ab9f933f0ae.png" width="1260" height="726" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References:<a class="hash-link" href="#references" title="Direct link to heading">​</a></h3><ul><li><a href="https://docs.datadoghq.com/integrations/redisenterprise/" target="_blank" rel="noopener noreferrer">https://docs.datadoghq.com/integrations/redisenterprise/</a></li><li><a href="https://github.com/DataDog/integrations-extras/blob/master/redisenterprise/datadog_checks/redisenterprise/data/conf.yaml.example" target="_blank" rel="noopener noreferrer">Datadog Sample Configuration</a> for Redis Enterprise</li><li><a href="https://github.com/DataDog/integrations-extras/blob/master/redisenterprise/metadata.csv" target="_blank" rel="noopener noreferrer">Complete List of Performance Metrics</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/threetenlabs/threetenlabs/edit/master/docs/support/observability/datadog/index-datadog.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-11-08T16:00:40.000Z">Nov 8, 2023</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/operate/observability/redisdatasource"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Redis Data Source for Grafana</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/operate/provisioning/terraform"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploy and Manage Redis Database on AWS using Terraform</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-datadog" class="table-of-contents__link toc-highlight">Why Datadog?</a></li><li><a href="#key-performance-indicators" class="table-of-contents__link toc-highlight">Key Performance Indicators</a></li><li><a href="#1-latency" class="table-of-contents__link toc-highlight">1. Latency</a></li><li><a href="#2-memory-usage-percentage" class="table-of-contents__link toc-highlight">2. Memory Usage Percentage</a></li><li><a href="#3-cache-hit-rate" class="table-of-contents__link toc-highlight">3. Cache Hit Rate</a></li><li><a href="#4-evictions" class="table-of-contents__link toc-highlight">4. Evictions</a></li><li><a href="#secondary-indicators" class="table-of-contents__link toc-highlight">Secondary Indicators</a></li><li><a href="#1-network-traffic" class="table-of-contents__link toc-highlight">1. Network Traffic</a></li><li><a href="#2-connection-count" class="table-of-contents__link toc-highlight">2. Connection Count</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a><ul><li><a href="#quickstart-guide" class="table-of-contents__link toc-highlight">Quickstart Guide:</a></li><li><a href="#step-1-set-up-a-datadog-agent" class="table-of-contents__link toc-highlight">Step 1. Set Up a Datadog Agent</a></li><li><a href="#step-2-launch-the-datadog-agent-on-the-master-node" class="table-of-contents__link toc-highlight">Step 2. Launch the Datadog agent on the Master node</a></li><li><a href="#step-3-configuring-datadog-configuration-file" class="table-of-contents__link toc-highlight">Step 3. Configuring Datadog configuration file</a></li><li><a href="#step-4-restart-the-datadog-agent-service" class="table-of-contents__link toc-highlight">Step 4. Restart the Datadog Agent service</a></li><li><a href="#step-5-viewing-the-datadog-dashboard-ui" class="table-of-contents__link toc-highlight">Step 5. Viewing the Datadog Dashboard UI</a></li><li><a href="#step-6-verifying-the-datadog-agent-status" class="table-of-contents__link toc-highlight">Step 6. Verifying the Datadog Agent Status</a></li><li><a href="#redis-enterprise-cluster-top-view" class="table-of-contents__link toc-highlight">Redis Enterprise Cluster Top View</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with ❤️ by</span><a href="https://threetenlabs.com/" target="_blank" rel="noopener" class="footerLogoLink_fGS1"><img loading="lazy" class="footer__logo" alt="ThreeTen Labs logo" src="/img/logo-1.png"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/games/">Games</a></li><li class="footer__item"><a class="footer__link-item" href="/company/">Company</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Mobile Applications</h4><ul class="footer__items"><li class="footer__item"><a href="https://play.google.com/store/games?hl=en_US&amp;gl=US" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Play Store</a></li><li class="footer__item"><a href="https://www.google.com/aclk?sa=l&amp;ai=DChcSEwjti6-lsLCCAxVTREcBHePWD5UYABABGgJxdQ&amp;ase=2&amp;gclid=Cj0KCQiAuqKqBhDxARIsAFZELmIsqZLsX5VUBTnZyroBKqNkekxkFjml_1kkrf095qdhZ3VJh2ZM1I8aAhz7EALw_wcB&amp;sig=AOD64_0a_wlOYm72NTLP9hTCfjLUMjQXWQ&amp;q&amp;nis=4&amp;adurl&amp;ved=2ahUKEwjynKWlsLCCAxVSkIkEHZRICMsQ0Qx6BAgGEAE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apple Store</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: © 2023 ThreeTen Labs. All rights reserved. ThreeTen Labs and the cube logo are registered trademarks of ThreeTen Labs LLC</div></div></footer></div>
<script src="/assets/js/runtime~main.107a44d4.js"></script>
<script src="/assets/js/main.1684004e.js"></script>
</body>
</html>